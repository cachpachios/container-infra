syntax = "proto3";
package node;

message Empty {}

message ProvisionRequest {
    string container_reference = 1;
    int32 vcpus = 2;
    int32 memory_mb = 3;
}

message ProvisionResponse {
    string id = 1;
}

message InstanceId {
    string id = 1;
}

message LogMessage {
    string message = 1;
}

service NodeManager {
    // Our SayHello rpc accepts HelloRequests and returns HelloReplies
    rpc Provision (ProvisionRequest) returns (ProvisionResponse);
    rpc Deprovision (InstanceId) returns (Empty);

    rpc StreamLogs (InstanceId) returns (stream LogMessage);
}
